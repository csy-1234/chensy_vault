# 操作系统

## 是什么
- Operating System, OS
- **管理**硬件和软件**资源**
- **提供**应用**运行环境**
- 系统软件

## 有哪些分类
### 运行设备分类
桌面 / 服务器 / 移动 / 嵌入式 四类
- desktop os
	- 个人电脑、笔记本、工作站
	- 日常办公、娱乐、软件开发、多媒体（视频、图片、音乐）、上网
	- ==Windows== 7        72%           桌面 OS 市场绝对主导地位
	- ==macOS== 2           16%            macOS 次之
	- Linux 桌面版（Ubuntu Desktop、Deepin）4%        专业开发与爱好者 
- server os
	- 机房服务器
	- 网站应用托管、数据库服务、云计算、文件存储共享、企业应用、网络服务
	- Linux 发行版（Ubuntu Server、Debian、Red Hat、Rocky Linux） 1 ~14%  
	- Unix 系统  1                 ~16%
	- ==Windows Server==   7           ~70%
	- web服务器中
		- **Linux**：≈96%
		- **Windows Server**：≈4%  
	-  云计算 / 容器平台
		- **Linux**：绝对主流（≈99%）
	- ==互联网基础设置linux占绝对主导==
	
- mobile os
	- 手机、平板、穿戴设备
	- 移动通信（电话、短信、视频通话）、移动应用（app）、移动支付、拍照、多媒体、移动办公（邮件、会议、文档协作）
	- ==Android==  3           ~73%   
	- ==iOS== 1                      ~27%
	- HarmonyOS
- Embedded os
	- 智能家居（路由器、智能音箱、机顶盒）、工业设备（传感器）、汽车系统（自动驾驶系统）、医疗设备、电子产品
	- 嵌入式 Linux，linux主导
	- 其他行业的嵌入式os

### **来源角度分类**
- - Unix 家族：macOS、BSD、Solaris、AIX
    
- Linux 家族：Ubuntu、Debian、CentOS、Red Hat、SUSE、Android
    
- Windows NT 家族：Windows 10/11、Windows Server 系列
    
- 专有内核：QNX、VxWorks、z/OS


## 市场份额占比


| 使用场景       | 主导系统及份额（约值）               | 次要系统及份额                 |
| ---------- | ------------------------- | ----------------------- |
| **桌面 OS**  | Windows ~71%              | macOS ~16%，Linux ~4%    |
| **服务器 OS** | Windows Server ~70%（传统统计） | Linux ~14%，Unix 系列 ~16% |
| **移动 OS**  | Android ~73%              | iOS ~27%                |
- **中国智能手机市场（区域差异）**
    
    - **Android**：≈78–80%
        
    - **iOS**：≈20–22%  
        👉 中国的安卓份额比全球平均更高。
        
- **美国智能手机市场**
    
    - **iOS**：≈55–57%
        
    - **Android**：≈43–45%  
        👉 美国 iPhone 用户占比超过一半，和全球趋势相反。

## 操作系统家族脉络

三大操作系统：
**Unix、Linux、Windows NT** 是并行发展的三大主流操作系统内核体系

**Unix 家族**
- 起源：1969 年 AT&T 贝尔实验室。
- 分支
	- 商用 Unix
	- BSD 系列
		- macOS 也基于 BSD 内核（XNU）
	- ios

间隔22年

**Linux 家族**

- 起源：1991 年 Linus Torvalds 开发的 Linux 内核
- 分支
	- Ubuntu
	- Debian
	- Red Hat
	- SUSE
	- CentOS
	- Android

间隔2年

**Windows NT 家族**

- 起源：微软 1993 年的 Windows NT 内核。
- 分支：
	- Windows 2000、XP、Vista、7、10、11、Windows Server 系列


另外，还有**少数专有内核**（QNX、VxWorks、z/OS 等）


## 各os覆盖范围

Unix 家族

- **桌面**：macOS、BSD 桌面版（FreeBSD + KDE/GNOME 桌面环境）。
    
- **服务器**：BSD（FreeBSD、OpenBSD）、Solaris、AIX 都是传统高可靠服务器系统。
    
- **移动**：
    
    - 早期有 Symbian、MeeGo（已消亡）。
        
    - ==**iOS**== 是基于 Darwin（Unix 内核）的 → 属于 Unix 家族。
        
- **嵌入式**：有裁剪版 BSD 系统，但在嵌入式领域影响力有限。
Linux 家族

- **桌面**：Ubuntu Desktop、Deepin、Fedora Workstation 等。
    
- **服务器**：Ubuntu Server、CentOS（已停更）、RHEL、Debian、SUSE。
    
- **移动**：
    
    - ==**Android** 就是基于 Linux 内核==。
        
- **嵌入式**：应用最广泛，比如 OpenWrt（路由器）、Yocto Linux、树莓派系统、车载 Linux。
    

👉 **特点**：Linux 几乎全覆盖，尤其在 **服务器、移动、嵌入式** 领域占统治地位。

Windows NT 家族

- **桌面**：Windows 10、11（主要面向个人和办公 PC）。
    
- **服务器**：Windows Server 系列（AD、IIS、Exchange、SQL Server）。
    
- **移动**：曾经有 Windows Phone / Windows Mobile，但已失败，微软放弃移动端。
    
- **嵌入式**：有 Windows Embedded / Windows IoT Core，但市场占比很小，多用于特定设备（ATM、POS机、部分工业设备）。
    

👉 **特点**：Windows NT 在 **桌面** 和 **服务器** 有较大市场，但 **移动/嵌入式领域基本失败**。


总结

- **Linux 家族** → 全覆盖四大场景，尤其在 **服务器、移动（安卓）、嵌入式** 领域最强。
    
- **Unix 家族** → 桌面（macOS）、服务器、移动（iOS）有一定覆盖，嵌入式较少。
    
- **Windows NT 家族** → 桌面和服务器强，移动/嵌入式几乎退出主流市场。


| 操作系统家族         | 桌面 OS                 | 服务器 OS                         | 移动 OS           | 嵌入式 OS |     |
| -------------- | --------------------- | ------------------------------ | --------------- | ------ | --- |
| **Linux**      | 一般                    | 一般(云计算和 Web 服务器中绝对占主导)         | ==最强==（Android） | ==最强== |     |
| **Unix**       | 一般（macOS、BSD 桌面）      | 一般（AIX、Solaris、BSD）            | 一般（iOS）         | ×      |     |
| **Windows NT** | ==最强==（Windows 10/11） | ==最强==（传统服务器Windows Server 系列） | ×               | ×      |     |
三分分支os总结

>- **Linux** → 互联网、移动、嵌入式领域王者
>- **Windows NT** → 桌面 + 企业服务器领域王者
>- **Unix** → 中规中矩，没有绝对主导场景


## OS和机器的适配关系

### 硬件为基础,os对硬件有要求
常见要求：
**内存**大小 
**CPU** 架构
**磁盘**要求：硬盘容量、磁盘类型(SSD / NVMe )
显示与图形
	- **分辨率**桌面 OS 需要支持最低分辨率，移动 OS 依赖**屏幕尺寸**和**触控**支持。
    - **GPU**
外设与接口
	**网络接口**：Ethernet、Wi-Fi、蓝牙。
	**输入设备**：键盘、鼠标、触摸屏。
    **其他接口**：USB、串口、摄像头、音频设备等，操作系统需要对应驱动。
 固件与安全支持
	-**BIOS / UEFI**：现代 OS 往往要求 UEFI 支持。
	- 安全模块：Windows 11 要求 TPM 2.0 支持；一些 Linux 发行版也可以启用安全启动。
其他
- **多核 CPU** 支持：大部分现代 OS 利用多核并行处理。
- **虚拟化支持**：云计算和虚拟机环境，CPU 需支持 VT-x / AMD-V。
- 特殊芯片：嵌入式或移动设备可能要求 GPU、DSP、AI 加速芯片等兼容。

### 硬件服务于os，为os设计硬件
苹果 MacBook → 只允许安装 macOS
iPhone/iPad → 只能运行 iOS/iPadOS
有些硬件会被设计成 最优化支持某个操作系统，兼容性较窄

硬件分为
普通通用硬件上，**操作系统要求机器**
专用硬件上，**机器服务于操作系统**


## linux

目前linux各版本
全球市场占比

|发行版|市场占比（Web 服务器）|主要特点与应用场景|
|---|---|---|
|**Ubuntu**|14.1%|易用性高，广泛用于云计算和容器平台|
|**Debian**|7.5%|稳定性强，适用于企业级服务器和开发环境|
|**CentOS**|2.0%|曾广泛用于企业服务器，已停止更新，部分企业仍在使用|
|**AlmaLinux**|0.3%|CentOS 的替代品，与 RHEL 二进制兼容|
|**Rocky Linux**|0.3%|CentOS 的继任者，社区支持强|
|**Red Hat**|0.2%|企业级支持，适用于关键业务系统|
|**SUSE**|<0.1%|主要用于欧洲市场，适合高性能计算和企业环境|
国内：

**CentOS 系列（包括传统版本和 Stream）由于历史原因存量仍然较大，但 Alibaba Cloud Linux (ALinux) 和 OpenEuler 的增长非常迅速**，尤其是在云计算和特定行业领域

  

| **发行版**                   | **主要特点**                                                                                                                                                          | **典型应用场景**                                                                                                                                        | **市场份额/趋势**                                                                                                        |
| ------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| **CentOS (含 Stream)**     | 曾是企业级应用的主流选择，稳定性高[](https://zestb.com/77123.html)                                                                                                                 | 传统Web服务、数据库服务器[](https://zestb.com/77123.html)                                                                                                    | **存量仍较高（约30%-40%）**，但正处于迁移过程中[](https://zestb.com/77123.html)                                                      |
| **Alibaba Cloud Linux**   | 阿里云定制优化，与阿里云服务（如神龙架构、容器服务）深度集成[](https://zestb.com/77123.html)                                                                                                    | 阿里云生态系统、云原生应用、高性能计算场景[](https://zestb.com/77123.html)                                                                                             | **快速增长中（推测占阿里云环境20%-30%）**，是云上的重要力量[](https://zestb.com/77123.html)                                                |
| **Ubuntu**                | 开发者友好，软件包更新及时，LTS版本支持周期长[](https://zestb.com/77123.html)                                                                                                          | Web服务、云计算、容器环境[](https://zestb.com/77123.html)                                                                                                    | **稳定增长（约15%-25%）**，深受开发者和初创企业喜爱[](https://zestb.com/77123.html)                                                    |
| **OpenEuler**             | 国产操作系统，专注于服务器、云计算、边缘计算等数字基础设施[](https://cj.sina.com.cn/articles/view/5952915705/162d248f906701qsmg?froms=ggmp)，安全性高[](https://www.sohu.com/a/846691660_121798711) | 政府、电信、金融等对安全要求高的行业[](https://www.sohu.com/a/846691660_121798711)[](https://cj.sina.com.cn/articles/view/5952915705/162d248f906701qsmg?froms=ggmp) | **2023年中国服务器市场份额达36.8%**，党政军领域占比高[](https://cj.sina.com.cn/articles/view/5952915705/162d248f906701qsmg?froms=ggmp) |
| **Rocky Linux/AlmaLinux** | 作为CentOS的替代方案，旨在提供与RHEL的免费二进制兼容性[](https://zestb.com/77123.html)                                                                                                  | 企业级应用、从CentOS迁移的场景[](https://zestb.com/77123.html)                                                                                                | **逐步增长（约5%-10%）**，是CentOS停更后的主要迁移方向之一[](https://zestb.com/77123.html)                                              |

🧭 **主流发行版补充说明**

- **全球市场**：Ubuntu 和 Debian 是最受欢迎的 Linux 发行版，广泛应用于 Web 服务器和云计算环境。
    
- **中国市场**：openEuler 和 UOS 在政府和企业中得到广泛应用，推动了国产操作系统的普及。
    
- **CentOS 停更影响**：CentOS 的停止更新促使企业转向 AlmaLinux 和 Rocky Linux 等替代品。

# 学习线路：

**核心建议：主攻 RHEL 系，辅修 Ubuntu，目标是“云上管OS”**

1. **【主修】==Alibaba Cloud Linux 或 Rocky Linux== (二选一)**
    
    - **为什么**：国内企业从 CentOS 迁移的主流选择，尤其是阿里云生态。命令、软件包（RPM）和管理方式与行业标准 RHEL 完全一致，就业最实用。
        
2. **【辅修】==Ubuntu Server**==
    
    - **为什么**：云原生和开发者生态丰富（AWS/Azure/K8s/Docker）。很多开源软件优先支持，需熟悉其包管理（`apt`）和特点。
        
3. **【关键】不止学OS，更要学“云上管OS”**
    
    - **必须会**：基础命令、权限、网络、服务管理（`systemd`）、日志排查。
        
    - ==**云==特色**：重点掌握 **`cloud-init`（云实例初始化）**、**安全组（云防火墙）**、**云监控/日志服务对接**，告别纯本地运维思维。
        
4. **【加速器】自动化工具**
    
    - 立即开始学 ==**Ansible**==，这是自动化运维批量管理服务器的核心工具。
        

**行动路线：**  
**现在** → 用虚拟机练熟 Rocky Linux 命令行。  
**下一步** → 开一台阿里云/腾讯云ECS，用 ALinux/Ubuntu 镜像实战部署应用。  
**未来** → 用 Ansible 自动化部署，并学习 Docker 容器化。

# 软件架构

## 常见软件架构模式对比表


|架构类型|大众用户软件举例|企业/组织用户软件举例|说明|
|---|---|---|---|
|**C/S + 微服务（混合架构）**|手机 APP（微信、淘宝）、桌面客户端（QQ、Steam）|企业管理 APP（企业内部考勤、办公客户端）|客户端专用软件，后台微服务支撑业务逻辑|
|**B/S + 微服务（混合架构）**|网站（淘宝网页版、知乎、微信公众号后台）|企业办公系统（钉钉网页版、企业 ERP 网页端）|浏览器通用客户端，服务端微服务架构支撑|
|**三层架构**|—|ERP 系统（用友、SAP）、银行内部管理系统|前端可通用，业务层和数据层专用，面向组织/企业内部|
|**微服务架构（服务端）**|—|淘宝后台、京东后台、Netflix 后台服务|服务端架构模式，需要客户端配合使用|
|**SOA 架构**|—|政府信息系统、大型企业 ERP、银行核心系统|面向系统集成，服务提供者与消费者通过标准接口通信|
|**事件驱动架构（EDA）**|物联网平台（智能家居 APP）、消息系统（微信订阅消息）|日志监控系统（ELK）、消息队列系统（Kafka）|异步事件流处理，松耦合，高吞吐量|
|**P2P 架构**|迅雷、BT 下载客户端、区块链节点|—|节点既可发请求又可接收请求，对等通信，无中心服务器|

---

✅ **特点总结**：

1. **大众用户**：主要是 C/S + 微服务、B/S + 微服务、事件驱动、P2P 软件
    
2. **企业/组织用户**：三层、SOA、微服务（服务端）、B/S + 微服务、C/S + 微服务
    
3. **微服务、SOA、三层**：偏向企业内部或后台系统
    
4. **事件驱动**：大众或企业均可，适合异步高并发场景

==前后端概念从哪里来的？==

**“前端 / 后端” 这个说法主要就是 B/S 架构里的术语**：
- **B/S 架构** → 前端 / 后端
    
- **C/S 架构** → 客户端 / 服务端
    
- **微服务** → Provider / Consumer（服务提供者 / 调用者）
    
- **分布式 / P2P** → 节点（Node）
    
- **嵌入式** → 应用 / 内核
    

👉 换句话说，“前端/后端”是一种**特定架构下的叫法**，而不是所有软件架构的统一术语。