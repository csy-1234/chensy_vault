---
date: "0927"
docx:
实验: 已做
---
# 云产品介绍

### 四大件
ecs云主机    Elastic Compute Service
rds数据库     Relational Database Service
slv负载均衡   Server Load Balancer
oss对象存储   Object Storage Service

效果：部署租车平台

==ecs==
是什么？？
搭建 租赁 释放删除 虚拟机
ecs由什么组成？？
**实例  镜像os  块存储--磁盘  安全组**2层-虚拟防火墙-firewall1层  **快照  网络**（私有：VPC（Virtual Private Cloud）虚拟私有云）
对比物理服务器
![[Pasted image 20251015220654.png]]
ecs架构？？
![[Pasted image 20251015221343.png]]

ecs做什么？？
建站、数据、制图渲染、运维测试、学习用途

ecs优势？？
高可用、安全、弹性、节约成本
容灾备份、简单易用

如何快速使用ecs？？
创建--连接--使用--释放

创建？？
==ecs==
登录阿里云  充钱100押金  ecs产品--实例--创建实例

付费类型：按量--地域-- 网络：默认
实例和镜像：
	实例：cpu-内存-GPU-等
	镜像：centos7.9
	扩展程序：不选（jdk、docker等）
存储：
	系统盘：20G 
	数据盘：不填加
	文件备份：不开启
	快照服务：不开启
网络和安全组：
	公网ip：勾选
	网络带宽：按流量
	带宽峰值：最大100Mbps
	安全组：不添加
	弹性网卡：默认
	ipv6：不开启
管理设置：
	登陆凭证：自定义密码
	登录名：root
	密码：自定义
	标签：不添加

我同意勾选--确认下单--付费
==RDS==
![[Pasted image 20251017105046.png]]

rds--购买--创建实例


创建实例：
计费方式： 按量付费
地域：
引擎：mysql5.7
产品系列：基础系列
存储类型：随便
网络类型：默认专用网络
vpc：默认
加入白名单、主可用区及网络、部署方案：默认
实力规格：cpu-内存-最大连接数300（最便宜的）
存储空间：最小20G

确认下单--付费

云环境部署租车系统需要：3台云服务器
![[Pasted image 20251017110026.png]]

==SLB==
![[Pasted image 20251017110200.png]]
选clb
创建实例：
--控制台--clb实例管理--创建传统型slb
地域;省+可用区（机房）（最好都在一个地域）
可用区类型：多可用区
实例名称：自定义
实例计费方式：按量付费
实例类型：公网
ip版本：ipv4
公网流量费：默认
数量：1
资源组：默认

点击立即购买

==OSS==
就是nfs
创建实例：
商品类型：资源包
资源包类型：
地域：
存储规格：
购买时长： 
这个没演示购买


### 实战
![[Pasted image 20251017113321.png]]
==购买ecs==后：
![[Pasted image 20251017113132.png]]
复制公网ipssh来连接：
密码是原来设置的
连接上了ecs主机
ecs主机搭建好了

>连接不上要添加安全组（开放端口），租车实验要开启ssh22端口和8080tomcat端口

 按实验搭建tomcat

==购买RDS==后：
管理-账号管理-创建账号--数据库账号root-账号类型高权限账号-密码自定义-确定
服务账号：全打开
白名单与安全组
	白名单设置：全部开放
数据库连接：
复制内网地址：
![[Pasted image 20251017114839.png]]

xshell：下载mysql客户端，yum -y install mysql
![[Pasted image 20251017114954.png]]红色部分后面的的是复制的内网地址
source 导入库
tomcat数据库主机ip改为复制的mysql地址：修改密码
![[Pasted image 20251017115155.png]]

启动tomcat
浏览器访问ecs的ip:8080,可以看到成功访问

购买clb后：
![[Pasted image 20251017120157.png]]

![[Pasted image 20251017120324.png]]
先择权重--添加--再勾选-在添加

监听-添加监听
协议监听：
	监听协议tcp（四层）-监听端口80-高级配置默认
后端服务器
	默认服务器：端口8080
	下一步
健康检查
	下一步
配置审核
	提交
	
实例详情--复制公网IP

slb公网IP，即可访问：

公网ip申请域名变成网站

最终效果：

![[Pasted image 20251017172241.png]]
### 扩展
添加云主机ecs

创建实例ecs-ssh连接第二台ecs

SLB实例-添加后端服务器-勾选下一步-添加-确定
slb实例-监听-修改监听配置-重选后端服务器-一路下一步-提交

配置好了![[Pasted image 20251017135808.png]]
验证：
两esc均打开访问日志：
tail -f logs/localhost_access...log
访问

做完实验后释放实例：三个点--释放设置--立即释放--不保留-下一步
释放slb、rds、ecs

补充：
选择地域
选择可用区--机房
选择专有网络vpc：默认是默认专有网络，选择默认实际做的事：
当你没手动新建 VPC，而直接使用「默认专有网络」时，阿里云后台会自动做三件事：

| 层级               | 自动创建内容              | 示例                                        |
| ---------------- | ------------------- | ----------------------------------------- |
| **VPC（专有网络）**    | 自动生成一个大的虚拟网络环境      | VPC ID：`vpc-bp1xxxx`，网段如 `192.168.0.0/16` |
| **交换机（VSwitch）** | 在你选择的可用区里创建一个子网     | VSwitch 网段如 `192.168.0.0/24`              |
| **路由表**          | 自动配置默认路由（内网互通、外网出网） | 路由到 Internet 网关                           |

vpc创建：
>**是的，VPC 是 ECS 的必备内网环境。**  
它属于某一个「地域（Region）」内，可以覆盖该地域下的多个「可用区（Zone）」，  
但 **VPC 不能跨地域使用**。

|概念|说明|
|---|---|
|**VPC**|属于某一个地域（Region）|
|**可用区（Zone）**|属于该地域内的一个机房|
|**VPC 范围**|可以覆盖该地域下的多个可用区|
|**不能跨地域**|一个 VPC 不能跨地域存在，比如“北京的 VPC”不能直接给“杭州的 ECS 用”|


 🧩 一、交换机（VSwitch）是什么？

在阿里云中：

- **VPC（专有网络）** 就相当于一个 **大内网**。
    
- **交换机（VSwitch）** 就是 **这个大内网里的子网**。
    

👉 一个 VPC 可以包含多个 VSwitch，  
==每个 VSwitch **必须属于某个可用区（Availability Zone，简称 AZ）**。==


**阿里云** 上：

- **VPC（专有网络）** 本身是 **免费的**。
    
- **创建交换机（子网）**、**路由表**、**安全组** 等 VPC 内部资源也都是免费的。
    
- 你只会为在 VPC 内运行的 **实际资源**（比如 ECS、RDS、SLB 等）付费。
    

💡 **注意：**

- 如果你给 VPC 分配了 **公网 IP**、**NAT 网关**、**弹性公网 EIP** 或 **VPN 连接**，这些公网服务才会产生费用。
    
- 仅使用私有网络（内网通信）时，是不收费的。
    

👉 所以：  
你可以放心创建 VPC、交换机、路由表等，不会单独计费。